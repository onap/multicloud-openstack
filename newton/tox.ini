[tox]
envlist = py27,py35
skipsdist = true

[tox:jenkins]
downloadcache = ~/cache/pip

[testenv]
setenv =
    PYTHONPATH = {toxinidir}/../newton:{toxinidir}/../share
passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY
deps =
    -r{toxinidir}/requirements.txt
    -r{toxinidir}/test-requirements.txt
commands =
  coverage run --branch manage.py test

[testenv:cover]
commands =
  coverage html --omit=".tox/*,*tests*,*__init__.py"
  coverage report --omit=".tox/*,*tests*,*__init__.py" --fail-under=30
